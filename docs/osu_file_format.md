# Osu 文件格式

## TimingPoints

每行都是一个 Timing 节点，有 8 个逗号隔开的数字：

1. 偏移量，单位 ms；
2. 两排之间的间隔量，单位 ms，与 BPM 间的换算方法为`bpm=60000/gap`；
3. 排号，决定多少拍为一小节；
4. 采样音效组，1 为 Normal，2 为 Soft，3 为 Drum；
5. 采样音效组子组，整数表示索引；
6. 打击音效音量，0-100；
7. 节点类型，1 为普通节点，0 为继承节点；
8. 在 Taiko 和 Mania 模式中移除最开头小节线，8 为启用，0 为关闭，只有第一个节点可以选择开启。

## HitObjects

每行都是一个 Note，有 5 个数和 1 个列表组成，用逗号隔开；列表的各项由冒号隔开。这里我们只关心 Mania 模式下的谱面格式。

1. Note 列数，对应从左到右第`(value+64)/128`列，如 4K 的四条轨道分别对应值 64、192、320、448；
2. 在 Mania 谱面中恒为 192；
3. 此 Note 在时间轴中的位置，以 ms 为单位；
4. Note 类型，1 或 5 为 Circle（单音），128 为 Hold（长条）；
5. 在 Mania 谱面中恒为 0；
6. 如果此 Note 为长条，则第一项为结束位置，以 ms 为单位，后面紧跟 3 项 0；如果此 Note 为单音，则列表直接以 3 项 0 开始。再后面一项为自定义音效的音量，0-100；最后一项为设置的自定义音效文件名，若未设定则为空（但前面的冒号不能省略）。
